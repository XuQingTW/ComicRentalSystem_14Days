B11170075陳泓維
B11170047陳家龢

# 漫畫租借管理系統 (Comic Rental System)

本專案是一個使用 C# 和 Windows Forms 開發的桌面應用程式，旨在提供一個簡單易用的漫畫租借管理解決方案。使用者可以透過本系統管理漫畫庫存、會員資料以及租借記錄。系統區分為管理員和一般會員兩種角色，各自擁有不同的操作權限。

## 功能特色

本系統提供兩種使用者角色：管理員 (系統管理員) 和會員 (一般使用者)，各自擁有不同的操作權限。

### 管理員 (系統管理員)

*   **漫畫管理**：
    *   新增、編輯和刪除漫畫資料。
    *   查詢漫畫（可依書名、作者、ISBN、類型等條件）。
    *   檢視所有漫畫的詳細狀態，包括是否已租借、租借者資訊、租借日期及預計歸還日期。
    *   **Admin Dashboard (管理員儀表板)**：提供系統概覽及常用功能的快速存取入口。
*   **會員管理**：
    *   新增、編輯和刪除會員資料。
    *   查詢會員（可依姓名、電話號碼、使用者名稱等多個欄位進行搜尋）。
    *   注意：無法刪除仍有未歸還漫畫的會員。
*   **使用者帳號管理**：
    *   註冊新的使用者帳號，並可指定其角色為管理員或會員。
    *   刪除現有的使用者帳號（為確保系統正常運作，無法刪除最後一位管理員帳號）。
    *   **帳號鎖定 (Account Lockout)**：為提升安全性，在連續多次（例如 5 次）登入失敗後，帳號將被暫時鎖定（例如 15 分鐘）。
*   **租借流程管理**：
    *   透過租借表單協助會員完成漫畫的租借與歸還流程。
    *   管理員可查看所有漫畫的當前租借狀態。
*   **日誌檢視**：
    *   能夠開啟並檢視系統運行時產生的日誌檔案，方便追蹤系統事件與排查潛在問題。

### 會員 (一般使用者)

*   **瀏覽與搜尋漫畫**：
    *   查看系統中所有可供租借的漫畫列表。
    *   可依書名、作者、ISBN、類型等多個欄位進行搜尋與篩選，快速找到感興趣的漫畫。
*   **檢視個人租借狀態**：
    *   查看自己當前已租借的所有漫畫。
    *   清楚了解每本租借漫畫的租借起始日期及預計歸還日期。
    *   系統會特別提示即將到期或已逾期的漫畫。

## 技術棧

*   **程式語言：** C#
*   **框架/平台：** .NET Windows Forms
*   **資料儲存：**
    *   使用 SQLite 資料庫 (`comic_rental.db`) 儲存所有應用程式資料，包括漫畫、會員和使用者帳號。
    *   資料庫檔案位於使用者 `%APPDATA%` 目錄下的 `ComicRentalApp` 資料夾內 (例如：`C:\Users\YourUsername\AppData\Roaming\ComicRentalApp\comic_rental.db`)。
    *   本專案使用 Entity Framework Core 作為 ORM (Object-Relational Mapper) 來進行資料庫操作。
*   **日誌記錄：**
    *   日誌檔案儲存在使用者「我的文件」資料夾內的 `ComicRentalApp\Logs` 目錄下 (例如：`C:\Users\YourUsername\Documents\ComicRentalApp\Logs`)。
    *   系統會每日建立新的日誌檔案，檔案命名格式為 `yyyyMMdd.txt` (例如 `20231026.txt`)。
    *   日誌保留政策預設為 90 天。超過保留期限的日誌檔案將會被備份（如果需要）然後自動刪除，以節省儲存空間。

## 系統需求

*   **作業系統：** Windows (本專案為 Windows Forms 應用程式)
*   **.NET 環境：** .NET 8.0 Runtime (或更高相容版本)

## 安裝與啟動

1.  **取得專案：**
    *   您可以透過 Git clone 指令從版本控制庫下載本專案：
        ```bash
        git clone <repository_url>
        ```
        (請將 `<repository_url>` 替換為實際的倉儲網址)
    *   或者，直接下載專案的 ZIP 壓縮檔並解壓縮。

2.  **編譯與執行：**
    *   開啟 Visual Studio (建議使用 Visual Studio 2022 或更新版本)。
    *   選擇「開啟專案或解決方案」，並選取專案根目錄下的 `ComicRentalSystem_14Days.sln` 檔案。
    *   等待 Visual Studio 還原 NuGet 套件。
    *   點擊工具列上的「開始」按鈕 (或按 F5) 編譯並執行專案。
    *   應用程式將會啟動並顯示登入視窗。

3.  **預設管理員帳號：**
    *   系統在首次啟動或找不到任何管理員帳號時，會自動建立一個預設管理員帳號：
        *   **使用者名稱：** `admin`
        *   **密碼：** `admin123`
    *   建議首次登入後立即更改管理員密碼。

4.  **資料與日誌檔案路徑說明：**
    *   **資料庫檔案**：
        *   `comic_rental.db`：包含所有應用程式資料 (漫畫、會員、使用者帳號等)。
        *   此檔案位於使用者 `%APPDATA%\ComicRentalApp` 目錄下 (例如：`C:\Users\YourUsername\AppData\Roaming\ComicRentalApp\comic_rental.db`)。
        *   如果此資料庫檔案在應用程式首次執行時不存在，系統將會自動建立它。
    *   **日誌檔案目錄**：
        *   日誌檔案 (例如 `20231026.txt`) 儲存在使用者「我的文件」資料夾內的 `ComicRentalApp\Logs` 目錄下 (例如：`C:\Users\YourUsername\Documents\ComicRentalApp\Logs`)。
    *   請確保應用程式對上述指定的目錄具有讀寫權限。

## 使用教學

### 1. 登入系統

*   啟動應用程式後，會首先看到登入視窗。
*   輸入您的使用者名稱和密碼。
*   若是首次使用，請使用預設管理員帳號 (`admin` / `admin123`) 登入。
*   登入成功後，系統會根據您的角色（管理員或會員）顯示對應的主介面。

### 2. 管理員操作

登入管理員帳號後，主介面通常會包含導覽選單或管理面板，方便存取各項管理功能。

*   **漫畫管理：**
    *   可透過頂部選單「管理」->「漫畫管理」開啟漫畫管理視窗。
    *   在此視窗中，您可以新增漫畫、選取列表中的漫畫進行編輯或刪除。
    *   主介面右側的漫畫列表會顯示所有漫畫的詳細狀態，包括租借者和到期日。您可以透過狀態篩選器 (例如「已租借」、「可租借」) 和排序功能快速找到特定漫畫。
*   **會員管理：**
    *   可透過頂部選單「管理」->「會員管理」開啟會員管理視窗。
    *   在此視窗中，您可以新增會員、選取列表中的會員進行編輯或刪除。
*   **使用者註冊：**
    *   可透過頂部選單「管理」->「使用者註冊」開啟使用者註冊視窗，以新增管理員或會員帳號。
*   **處理漫畫租借與歸還 (租借表單)：**
    *   可透過頂部選單「管理」->「租借管理」開啟租借表單。
    *   **租借漫畫給會員：** 在此表單中，選擇會員，然後選擇該會員要租借的漫畫，設定租借期限後即可完成租借。
    *   **處理會員歸還漫畫：** 在此表單中，找到已租借的漫畫，執行歸還操作，漫畫狀態將更新為可租借。
*   **檢視日誌：**
    *   可透過頂部選單「工具」->「檢視日誌」開啟日誌檔案。

### 3. 會員操作

登入會員帳號後，主介面會顯示可租借的漫畫以及您目前已租借的漫畫。

*   **瀏覽與搜尋漫畫：**
    *   在「可租借漫畫」標籤頁中，您可以看到所有目前可租借的漫畫。
    *   可以使用上方的搜尋框（依書名/作者）或類型篩選器來尋找特定漫畫。
*   **檢視我的租借：**
    *   切換到「我的租借」標籤頁。
    *   這裡會列出您所有已租借的漫畫、租借日期以及預計歸還日期。
    *   系統會以不同顏色標示即將到期或已逾期的漫畫，提醒您及時歸還。
*   **歸還漫畫：**
    *   會員需聯繫管理員協助處理漫畫歸還事宜。管理員會使用系統中的租借管理功能來更新漫畫的狀態。
